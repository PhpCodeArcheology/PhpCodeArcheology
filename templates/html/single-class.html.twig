{% include('parts/header.html.twig') %}

<div class="mt-6 lg:w-5/6">
  <h1 class="mb-3 text-lg font-semibold font-display">Class metrics for:</h1>
  <h2 class="mb-6 text-3xl"><span class="text-white/40">{{ class.namespace }}\</span><span class="font-semibold inline-block" title="{{ class.namespace }}\{{ class.singleName }}">{{ class.singleName }}</span></h2>

  <div class="mt-8 rounded-xl border border-cyan-800 bg-cyan-950/45 p-4">
    <h3 class="mb-3 text-xl font-semibold font-display">Dependencies</h3>

    {% if class.extends|length or class.interfaces|length or class.usedClasses|length or class.usedBy|length or class.traits|length %}
    <table class="w-full border-collapse">
      <tbody>
        {% if class.interfaces|length %}
          <tr class="odd:bg-cyan-950/85 even:bg-cyan-950/55 border-t border-white/15">
            <th class="text-left p-2 align-top">Implements</th>
            <td class="p-2">{{ class.interfaces|join(', ') }}</td>
          </tr>
        {% endif %}
        {% if class.extends|length %}
        <tr class="odd:bg-cyan-950/85 even:bg-cyan-950/55 border-t border-white/15">
          <th class="text-left p-2 align-top">Extends</th>
          <td class="p-2">{{ class.extends|join(', ') }}</td>
        </tr>
        {% endif %}
        {% if class.traits|length %}
          <tr class="odd:bg-cyan-950/85 even:bg-cyan-950/55 border-t border-white/15">
            <th class="text-left p-2 align-top">Traits</th>
            <td class="p-2">{{ class.traits|join(', ') }}</td>
          </tr>
        {% endif %}
        {% if class.usedClasses|length %}
        <tr class="odd:bg-cyan-950/85 even:bg-cyan-950/55 border-t border-white/15">
          <th class="text-left p-2 align-top">Uses</th>
          <td class="p-2">{{ class.usedClasses|join('<br>')|raw }}</td>
        </tr>
        {% endif %}
        {% if class.usedBy|length %}
          <tr class="odd:bg-cyan-950/85 even:bg-cyan-950/55 border-t border-white/15">
            <th class="text-left p-2 align-top">Used by</th>
            <td class="p-2">{{ class.usedBy|join('<br>')|raw }}</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
    {% else %}
      <p class="font-semibold">No dependencies found.</p>
    {% endif %}
  </div>

  {% if class.methods|length > 0 %}
    <h3 class="mt-8 mb-3 text-xl font-semibold font-display">Methods</h3>
    <div class="relative overflow-x-auto">
      <table class="sortable w-full border-collapse border border-slate-500 text-sm rounded-xl transition-opacity" data-currentsort="0:asc:string">
        <thead class="bg-cyan-950/25">
        <tr>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="string">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Name</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Parameters</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Loc</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">LLoc</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">CLoc</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">HTML&nbsp;%</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Cyclom.&nbsp;Compl.</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Maintainability</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Difficulty</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Effort</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
          <th class="border border-slate-500 text-left px-2 py-0.5" data-sortable="number">
            <span class="label-box flex justify-between items-center gap-1">
              <span class="label-name">Compl.&nbsp;density</span>
              <span class="sort-icon transition-all opacity-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z" clip-rule="evenodd" /></svg></span>
            </span>
          </th>
        </tr>
        </thead>
        <tbody>
        {% for function in class.methods %}
          {% set scope %}
            {% if function.public %}public{% elseif function.protected %}protected{% else %}private{% endif %}
            {% if function.static %}static{% endif %}
          {% endset %}
          <tr class="even:bg-cyan-950/45 odd:bg-cyan-950/85 transition-colors hover:bg-cyan-800">
            <td class="border border-slate-500 text-left px-2 py-0.5" data-sort="{{ scope }} {{ function.name }}">
              <span class="text-white/40">{{ scope }}</span><br>
              <a href="../functions/{{ function.id }}.html" class="font-semibold inline-block" title="{{ function.name }}">{{ function.name }}()</a>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.parameters|length }}">
              <span class="inline-block px-1.5 py-0.5">{{ function.parameters|length }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.loc }}">
              <span class="inline-block px-1.5 py-0.5{% if function.predictionTooLong %} rounded-md bg-yellow-700{% endif %}">{{ function.loc }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.lloc }}">
              <span class="inline-block px-1.5 py-0.5{% if function.predictionTooLong %} rounded-md bg-yellow-700{% endif %}">{{ function.lloc }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.cloc }}">
              <span class="inline-block px-1.5 py-0.5{% if function.cloc == 0 %} rounded-md bg-yellow-700{% endif %}">{{ function.cloc }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.htmlPercentage }}">
              <span class="inline-block px-1.5 py-0.5{% if function.predictionTooMuchHtml == true %} rounded-md bg-yellow-700{% endif %}">{{ function.htmlPercentage|number_format(2) }}%</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.cc }}">
              <span class="inline-block px-1.5 py-0.5{% if function.predictionTooComplex %} rounded-md bg-red-900{% endif %}">{{ function.cc }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.maintainabilityIndex }}">
              <span class="inline-block px-1.5 py-0.5">{{ function.maintainabilityIndex|number_format(2) }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.difficulty }}">
              <span class="inline-block px-1.5 py-0.5">{{ function.difficulty|number_format(2) }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.effort }}">
              <span class="inline-block px-1.5 py-0.5">{{ function.effort|number_format(2) }}</span>
            </td>
            <td class="border border-slate-500 text-right px-2 py-0.5" data-sort="{{ function.complexityDensity }}">
              <span class="inline-block px-1.5 py-0.5">{{ function.complexityDensity|number_format(2) }}</span>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>

{% include('parts/footer.html.twig') %}